import{u as c,G as L,j as e,L as H,H as J,J as K,K as Q,r as t,a as P,I as p,O as V,P as A,B,Q as M,R as W,S as X,T as Y,V as Z}from"./index-f40b5d46.js";import{T as ee}from"./Title-03dad6e7.js";import{S as se,P as te}from"./Pagination-826335dc.js";import{N as le}from"./Rating-80d36035.js";import"./index.esm-20404db5.js";import"./convertPetBirthday-dbe52991.js";import"./dog-emoji@2x-9838d210.js";const ae=({notices:i})=>{const l=c(L);return e.jsxs(e.Fragment,{children:[l&&e.jsx(H,{size:30}),e.jsx("ul",{className:" flex flex-col mb-[44px] gap-[20px] md:flex-row md:flex-wrap md:mb-[60px] lg:gap-x-[32px] lg:gap-y-[40px] ",children:i==null?void 0:i.map(a=>e.jsx(le,{...a},a._id))})]})},ie=({setKeyword:i,setPage:l,setCategory:a,setGender:r,setType:x,setPopularity:n,setPrice:o})=>{const v=c(J),I=c(K),C=c(Q),[f,j]=t.useState(null),[w,d]=t.useState(""),[g,m]=t.useState(""),[b,u]=t.useState(""),[y,N]=t.useState(!1),[D,S]=t.useState(!1),[E,_]=t.useState(!1),[F,k]=t.useState(!1),z=P();t.useEffect(()=>{(async()=>{try{await z(V()).unwrap(),await z(A()).unwrap()}catch{B.error("Something went wrong. Please, reload the page.")}})()},[z]);const T=s=>{j(U=>U===s?null:s)},h=()=>{j(!1)},G=s=>{a(s),l(1),d(s),h()},R=s=>{r(s),l(1),a(""),m(s),h()},q=s=>{x(s),l(1),u(s),h()},O=()=>{x(""),l(1),r(""),a(""),i(""),m(""),d(""),u(""),n(null),o(null),k(!1),_(!1),S(!1),N(!1),document.querySelector('input[name="query"]').value=""},$=s=>{switch(s){case"popular":n(null),_(!1);break;case"unpopular":n(null),k(!1);break;case"cheap":o(null),N(!1);break;case"expensive":o(null),S(!1);break;default:o(null),n(null),k(!1),_(!1),S(!1),N(!1)}};return e.jsxs("div",{className:"bg-my-yellow-light p-[20px] rounded-[30px] mb-[40px] mt-[40px] flex flex-col gap-[12px] md:flex-row md:gap-[16px] md:flex-wrap md:px-[32px] md:py-[40px]",children:[e.jsx(se,{setKeyword:i,setPage:l}),e.jsxs("div",{className:"flex justify-between md:gap-[16px]",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"dropwown",onClick:()=>T("category"),children:[w||"Category",e.jsx(p,{id:"dropdown",size:18})]}),f==="category"&&e.jsxs("ul",{className:"z-10 bg-my-white w-[143px] rounded-[15px] absolute top-[46px] p-[12px] flex flex-col gap-[8px] text-[14px] text-my-black-60 md:text-[16px] md:p-[14px] md:w-[170px] md:top-[54px] ",children:[e.jsx("li",{onClick:()=>{a(""),l(1),d(""),h()},className:`dropdown_list_item ${w===""&&"active_item"}`,children:"Show all"}),v.map(s=>e.jsx("li",{className:`dropdown_list_item ${w===s&&"active_item"}`,onClick:()=>{G(s)},children:s},s))]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"dropwown",onClick:()=>T("gender"),children:[g||"By gender",e.jsx(p,{id:"dropdown",size:18})]}),f==="gender"&&e.jsxs("ul",{className:"z-10 bg-my-white w-[143px] rounded-[15px] absolute top-[46px] p-[12px] flex flex-col gap-[8px] text-[14px] text-my-black-60 md:text-[16px] md:p-[14px] md:w-[170px] md:top-[54px]",children:[e.jsx("li",{onClick:()=>{m(""),h()},className:`dropdown_list_item ${g===""&&"active_item"}`,children:"Show all"}),I.map(s=>e.jsx("li",{className:`dropdown_list_item ${g===s&&"active_item"}`,onClick:()=>{R(s)},children:s},s))]})]})]}),e.jsxs("div",{className:"relative  ",children:[e.jsxs("button",{className:"dropdown_type ",onClick:()=>T("type"),children:[b||"By Type",e.jsx(p,{id:"dropdown",size:18})]}),f==="type"&&e.jsxs("ul",{className:" overflow-y-auto  custom-scrollbar z-10 bg-my-white w-[100%] h-[216px] rounded-[15px] absolute top-[46px] p-[12px] flex flex-col gap-[8px] text-[14px] text-my-black-60 md:text-[16px] md:leading-[1.25] md:w-[190px] md:p-[14px] md:top-[54px]",children:[e.jsx("li",{onClick:()=>{x(""),l(1),u(""),h()},className:`dropdown_list_item ${b===""&&"active_item"}`,children:"Show all"}),C.map(s=>e.jsx("li",{className:`dropdown_list_item ${b===s&&"active_item"}`,onClick:()=>{q(s)},children:s},s))]})]}),e.jsxs("ul",{className:"relative flex flex-wrap gap-[10px] mt-[28px] before:h-[1px] before:w-[100%]  before:bg-my-black-10 before:absolute before:top-[-20px] md:before:content-none lg:before:w-[1089px] md:mt-0 lg:mt-[28px]  lg:before:content-[''] ",children:[e.jsxs("li",{className:` ${E?" item_filter_active ":"item_filter"}`,children:[e.jsx("button",{onClick:()=>{n(!1),_(!0),k(!1)},children:"Popular"}),E&&e.jsx("button",{onClick:()=>$("popular"),children:e.jsx(p,{id:"delete-filter",size:18})})]}),e.jsxs("li",{className:` ${F?" item_filter_active ":"item_filter"}`,children:[e.jsx("button",{onClick:()=>{n(!0),k(!0),_(!1)},children:"Unpopular"}),F&&e.jsx("button",{onClick:()=>$("unpopular"),children:e.jsx(p,{id:"delete-filter",size:18})})]}),e.jsxs("li",{className:` ${D?" item_filter_active ":"item_filter"}`,children:[e.jsx("button",{onClick:()=>{o(!1),S(!0),N(!1)},children:"Expensive"}),D&&e.jsx("button",{onClick:()=>$("expensive"),children:e.jsx(p,{id:"delete-filter",size:18})})]}),e.jsxs("li",{className:` ${y?" item_filter_active ":"item_filter"}`,children:[e.jsx("button",{onClick:()=>{o(!0),N(!0),S(!1)},children:"Cheap"}),y&&e.jsx("button",{onClick:()=>$("cheap"),children:e.jsx(p,{id:"delete-filter",size:18})})]})]}),e.jsx("button",{type:"button",onClick:O,className:"bg-my-yellow text-[14px] text-my-white h-[42px] rounded-[30px] hover:bg-my-yellow-dark md:text-[16px] md:w-[150px] md:h-[48px] md:mt-0 lg:mt-[28px]",children:"Reset all filters"})]})},me=()=>{const i=P(),l=c(L),a=c(M),r=c(W),x=c(X),[n,o]=t.useState(""),[v,I]=t.useState(""),[C,f]=t.useState(""),[j,w]=t.useState(""),[d,g]=t.useState(null),[m,b]=t.useState(null);t.useEffect(()=>{(async()=>{try{await i(Y({keyword:n,page:a,category:v,species:j,sex:C,byPrice:m,byPopularity:d})).unwrap()}catch{B.error("Something went wrong. Please, reload the page.")}})()},[i,n,a,v,j,C,d,m]);const u=y=>{i(Z({page:y}))};return e.jsxs("div",{className:"containerBig relative pb-[40px] md:pb-[80px]  ",children:[e.jsx(ee,{children:"Find your favorite pet"}),e.jsx(ie,{setKeyword:o,setPage:u,setCategory:I,setGender:f,setType:w,setPopularity:g,setPrice:b}),(r==null?void 0:r.length)>0?e.jsxs(e.Fragment,{children:[e.jsx(ae,{notices:r}),x!==1&&e.jsx(te,{setPage:u,totalPages:x,page:a})]}):l?"":e.jsx("p",{className:"text-[14px] text-center md:text-[28px] mt-[20px] ",children:"There aren't any pets according to your query. Please, try another one."})]})};export{me as default};
