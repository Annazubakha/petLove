import{u as w,b as p,s as v,j as e,I as r,L as N,n as _,U,B as o,o as P,q as S,M,a as z,t as k,c as B,v as I}from"./index-ee105f7b.js";import{o as E}from"./yup-3d3fa1d2.js";import{u as L}from"./index.esm-8e3746c0.js";import{f as C}from"./convertPetBirthday-8457e3bd.js";const D=({user:s,toggleModal:a})=>{var d,j,y,f;const t=w(),l=p(v),{register:n,handleSubmit:h,formState:{errors:i}}=L({resolver:E(_)}),g=x=>{const m={};for(const c in x)x[c]!==null&&x[c]!==""&&(m[c]=x[c]);return m},u=async x=>{const m=g(x);try{await t(U(m)),o.success("Information was updated successful."),a()}catch{o.error("Something went wrong. Please, try again.")}};return e.jsxs("div",{className:"py-[40px] px-[20px] w-[335px] md:w-[480px] md:p-[50px] ",children:[e.jsx("p",{className:"font-bold text-[20px] mb-[20px] md:text-[18px] md:leading-[1.33]",children:"Edit information"}),e.jsx("div",{className:" flex  items-center justify-center  mb-[28px] md:mb-[12px]",children:s.avatar?e.jsx("img",{src:s.avatar,alt:"User's avatar",className:"h-[80px] w-[80px] rounded-[50%] md:h-[86px] md:w-[86px]"}):e.jsx("div",{className:"bg-my-yellow-light h-[80px] w-[80px] rounded-[50%] flex items-center justify-center  md:h-[86px] md:w-[86px]",children:e.jsx(r,{id:"user",size:40})})}),e.jsxs("form",{onSubmit:h(u),className:"flex flex-col gap-[10px]  md:gap-[14px]  ",children:[e.jsxs("div",{className:"relative flex  gap-[8px] md:mb-[4px]",children:[e.jsx("input",{type:"text",...n("avatar"),placeholder:"Avatar link",defaultValue:s.avatar||"",className:"truncate pr-[20px] md:h-[42px]"}),e.jsxs("button",{className:"bg-my-yellow-light flex gap-[8px] items-center justify-center h-[42px] min-w-[126px] rounded-[30px] text-[12px]  leading-[1.33]  hover:bg-my-yellow-light-hover focus:bg-my-yellow-light-hover   md:text-[14px] md:leading-[1.29] md:h-[42px]",type:"submit",children:["Upload photo",e.jsx(r,{id:"update-user-photo",size:18})]}),e.jsx("p",{className:"input-error",children:(d=i.avatar)==null?void 0:d.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",...n("name"),defaultValue:s.name}),e.jsx("p",{className:"input-error",children:(j=i.name)==null?void 0:j.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",...n("email"),defaultValue:s.email}),e.jsx("p",{className:"input-error",children:(y=i.email)==null?void 0:y.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",...n("phone"),defaultValue:s.phone||"",placeholder:"Enter your phone"}),e.jsx("p",{className:"input-error",children:(f=i.phone)==null?void 0:f.message})]}),e.jsxs("button",{className:"bg-my-yellow  h-[42px] text-my-white rounded-[30px] text-[14px] font-bold leading-[1.29] mt-[11px] hover:bg-my-yellow-dark focus:bg-my-yellow-dark md:mt-[26px] md:h-[52px] md:text-[16px] md:leading-[1.25]",type:"submit",children:["Save",l&&e.jsx(N,{size:10})]})]})]})},F=({user:s})=>{const[a,t]=P();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-my-white rounded-[30px] pt-[18px] px-[20px] pb-[40px] md:p-[40px] ",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"h-[38px] bg-my-yellow text-my-white text-[14px]tracking-[-0.03em] leading-[1.29] flex gap-[4px] rounded-[30px] px-[14px] items-center ",children:["User ",e.jsx(r,{id:"user-white",size:18})]}),e.jsx(b,{toggleIsModalEditUser:t})," "]}),e.jsxs("div",{className:" flex flex-col items-center justify-center gap-[8px] mb-[28px] md:mb-[20px]",children:[s.avatar?e.jsx("img",{src:s.avatar,alt:"User's avatar",className:"h-[94px] w-[94px] rounded-[50%] md:h-[110px] md:w-[110px]"}):e.jsx(b,{toggleIsModalEditUser:t}),e.jsx("button",{onClick:t,className:"text-[12px] tracking-[-0.02em] leading-[1.33] md:text-[14px] md:leading-[1.29] ",children:"Upload photo"})]}),e.jsx("p",{className:"font-bold leading-[1.25] mb-[20px] md:text-[18px] md:leading-[1.33]",children:"My information"}),e.jsxs("div",{className:"flex flex-col gap-[10px] text-[14px] leading-[1.29] tracking-[-0.03em] md:text-[16px] md:leading-[1.25] md:flex-row md:flex-wrap mad:gap-[14px]",children:[e.jsx("div",{className:"w-[100%] h-[42px] border-[1px] border-my-yellow rounded-[30px] pl-[12px] flex items-center md:w-[305px] md:pl-[16px] md:h-[52px]",children:s.name}),e.jsx("div",{className:"w-[100%] h-[42px] border-[1px] border-my-yellow rounded-[30px] pl-[12px] flex items-center md:w-[305px] md:pl-[16px] md:h-[52px]",children:s.email}),e.jsx("div",{className:`w-[100%] h-[42px] border-[1px] rounded-[30px] pl-[12px] mb-[40px] flex items-center md:w-[305px] md:pl-[16px] md:h-[52px] ${s.phone?"border-my-yellow ":" border-my-black-15 "}`,children:s.phone||"+380"})]}),e.jsx(V,{}),e.jsx(S,{})]}),a&&e.jsx(M,{toggleModal:t,children:e.jsx(D,{toggleModal:t,user:s})})]})},b=({toggleIsModalEditUser:s})=>e.jsx("button",{onClick:s,className:"bg-my-yellow-light h-[38px] w-[38px] rounded-[50%] flex items-center justify-center hover:bg-my-yellow-light-hover focus:bg-my-yellow-light-hover",children:e.jsx(r,{id:"pencil",size:18})}),V=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-[20px]",children:[" ",e.jsx("p",{className:"font-bold leading-[1.25]",children:"My pets"}),e.jsx(A,{})]}),e.jsx(T,{})]}),A=()=>{const s=z(),a=()=>{s("/add-pet")};return e.jsxs("button",{onClick:a,className:"bg-my-yellow w-[103px] h-[38px] rounded-[30px] text-my-white text-[14px] leading-[1.29] tracking-[-0.03em] flex gap-[4px] items-center justify-center hover:bg-my-yellow-dark focus:bg-my-yellow-dark",children:["Add pet",e.jsx(r,{id:"plus",size:18})]})},T=()=>{var t;const s=p(k),a=p(v);return e.jsxs(e.Fragment,{children:[a&&e.jsx(N,{size:30}),e.jsx("ul",{className:"flex flex-col gap-[14px] mb-[20px]",children:(t=s.pets)==null?void 0:t.map(l=>e.jsx($,{...l},l._id))})]})},$=({name:s,title:a,imgURL:t,species:l,sex:n,birthday:h,_id:i})=>{const g=C(h),u=w(),d=async()=>{try{await u(I(i)),o.success("Pet was deleted successfully.")}catch{o.error("Something went wrong. Please try again.")}};return e.jsxs("li",{className:" relative rounded-[20px]  p-[16px]  flex  gap-[14px] border-[1px] border-my-black-10",children:[e.jsx("img",{src:t,alt:"Pet's photo",className:"rounded-full h-[66px] w-[66px]"}),e.jsxs("div",{className:"relative ",children:[e.jsx("h1",{className:"font-bold leading-[1.29] text-[14px] mb-[8px] text-my-black-second truncate ",children:a}),e.jsxs("ul",{className:"flex text-[12px] leading-[1.17] tracking-[-0.02em] text-my-black  flex-wrap gap-[10px]  ",children:[e.jsxs("li",{className:"notices_item_element",children:[e.jsx("span",{className:"notices_item_element_span",children:"Name"}),s]}),e.jsxs("li",{className:"notices_item_element ",children:[e.jsx("span",{className:"notices_item_element_span",children:"Birthday"}),g]}),e.jsxs("li",{className:"notices_item_element ",children:[e.jsx("span",{className:"notices_item_element_span",children:"Sex"}),n]}),e.jsxs("li",{className:"notices_item_element ",children:[e.jsx("span",{className:"notices_item_element_span",children:"Species"}),l]})]})]}),e.jsx("button",{type:"sumbit",onClick:d,className:"absolute top-[12px] right-[12px] bg-my-yellow-light hover:bg-my-yellow-light-hover focus:bg-my-yellow-light-hover rounded-full w-[32px] h-[32px] flex items-center justify-center ",children:e.jsx(r,{id:"bin",size:B("bin")})})]})},G=()=>{const s=p(k);return e.jsx("div",{className:"containerBig",children:e.jsx(F,{user:s})})};export{G as default};
