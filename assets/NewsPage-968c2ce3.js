import{o as h,j as e,b as l,q as p,L as u,I as n,c as o,u as j,t as b,r as c,v as f,B as N}from"./index-455c7e51.js";import{T as y}from"./Title-6fcaa3a1.js";import{u as w}from"./index.esm-7a25b8f9.js";const k=({date:t})=>h(t).format("L"),v=({date:t,imgUrl:s,text:a,title:i,url:x})=>{const r=k(t);return e.jsxs("li",{className:" rounded-[15px]  flex flex-col md:w-[340px] md:h-[476px] lg:w-[361px]  ",children:[e.jsx("img",{src:s,alt:"News' photo",className:"w-[335px] h-[190px] rounded-[15px] mb-[20px] md:mb-[28px]  md:h-[226px] lg:w-[361px]"}),e.jsx("h1",{className:"mb-[12px] font-bold leading-[1.25] tracking-[-0.03em] md:mb-[14px] md:text-[20px] md:leading-[1.3]",children:i}),e.jsx("p",{className:"mb-[19px]  leading-[1.29] tracking-[-0.02em] text-[14px] md:mb-[28px] md:text-[16px] md:leading-[1.25]  line-clamp-4  ",children:a}),e.jsxs("div",{className:"flex justify-between leading-[1.29] tracking-[-0.02em] text-[14px] md:text-[16px] md:leading-[1.25] md:pb-[28px] md:mt-auto",children:[" ",e.jsx("p",{className:"text-my-black-50 ",children:r}),e.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-my-yellow  underline hover:text-my-yellow-dark",children:"Read more"})]})]})},z=({results:t})=>{const s=l(p);return e.jsxs(e.Fragment,{children:[s&&e.jsx(u,{size:30}),e.jsx("ul",{className:" flex justify-center flex-col gap-[24px] mb-[44px] md:mb-[60px] md:gap-x-[20px] md:gap-y-[32px] md:flex-row md:flex-wrap md:mt-[44px] lg:mt-[60px] lg:gap-x-[35px] lg:gap-y-[40px]",children:t==null?void 0:t.map(a=>e.jsx(v,{...a},a._id))})]})},S=({setKeyword:t})=>{const{register:s,handleSubmit:a,setValue:i,watch:x}=w(),r=x("query",""),m=({query:g})=>{t(g)},d=()=>{i("query",""),t("")};return e.jsx("div",{className:"mt-[20px] mb-[24px] relative md:absolute md:top-[16.5px] md:right-[32px] md:mt-0 md:mb-0 lg:right-[63px] ",children:e.jsxs("form",{onSubmit:a(m),children:[e.jsx("input",{type:"text",className:" bg-transparent h-[42px] md:h-[48px] md:w-[230px]",placeholder:"Search",name:"query",...s("query")}),e.jsx("button",{type:"submit",className:"absolute top-[12px] right-[12px] flex items-center justify-center md:top-[15px] md:right-[15px] ",children:e.jsx(n,{id:"search",size:18})}),r&&e.jsx("button",{className:"absolute top-[12px] right-[34px] flex items-center justify-center md:top-[15px] md:right-[39px]",onClick:d,children:e.jsx(n,{size:18,id:"close",className:"stroke-my-black"})})]})})},q=()=>{const t=o("pagination-left"),s=o("pagination-right");return e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex gap-[6px]",children:[e.jsxs("button",{className:"btn_pagination_double",children:[e.jsx(n,{id:"pagination-left",size:t}),e.jsx(n,{id:"pagination-left",size:t,className:"absolute top-[9px] left-[4px]"})]}),e.jsx("button",{className:"btn_pagination",children:e.jsx(n,{id:"pagination-left",size:t})})]}),e.jsxs("div",{className:"flex gap-[6px]",children:[e.jsx("button",{className:"btn_pagination",children:e.jsx(n,{id:"pagination-right",size:s})}),e.jsxs("button",{className:"btn_pagination_double ",children:[e.jsx(n,{id:"pagination-right",size:s}),e.jsx(n,{id:"pagination-right",className:"absolute top-[9px] right-[4px]",size:s})]})]})]})},L=()=>{const t=j(),s=l(p),{results:a}=l(b),[i,x]=c.useState("");return c.useEffect(()=>{(async()=>{try{await t(f({keyword:i,page:1,limit:6})).unwrap()}catch{N.error("Something went wrong. Please, reload the page.")}})()},[t,i]),e.jsxs("div",{className:"containerBig relative pb-[40px] md:pb-[80px]  ",children:[e.jsx(y,{children:"News"}),e.jsx(S,{setKeyword:x}),(a==null?void 0:a.length)>0?e.jsxs(e.Fragment,{children:[e.jsx(z,{results:a}),e.jsx(q,{})]}):s?"":e.jsx("p",{className:"text-[14px] text-center md:text-[28px] mt-[20px] ",children:"There aren't any news according to your query. Please, try another one."})]})};export{L as default};
