import{o as b,j as e,b as x,q as h,L as g,I as c,c as m,u as j,t as N,v as f,w as y,r as p,x as w,B as k,y as _}from"./index-fa5eccdb.js";import{T as v}from"./Title-c53273b4.js";import{u as z}from"./index.esm-8cce5495.js";const C=({date:s})=>b(s).format("L"),I=({date:s,imgUrl:a,text:t,title:n,url:i})=>{const l=C(s);return e.jsxs("li",{className:" rounded-[15px]  flex flex-col md:w-[340px] md:h-[476px] lg:w-[361px]  ",children:[e.jsx("img",{src:a,alt:"News' photo",className:"w-[335px] h-[190px] rounded-[15px] mb-[20px] md:mb-[28px]  md:h-[226px] lg:w-[361px]"}),e.jsx("h1",{className:"mb-[12px] font-bold leading-[1.25] tracking-[-0.03em] md:mb-[14px] md:text-[20px] md:leading-[1.3]",children:n}),e.jsx("p",{className:"mb-[19px]  leading-[1.29] tracking-[-0.02em] text-[14px] md:mb-[28px] md:text-[16px] md:leading-[1.25]  line-clamp-4  ",children:t}),e.jsxs("div",{className:"flex justify-between leading-[1.29] tracking-[-0.02em] text-[14px] md:text-[16px] md:leading-[1.25] md:pb-[28px] md:mt-auto",children:[" ",e.jsx("p",{className:"text-my-black-50 ",children:l}),e.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-my-yellow  underline hover:text-my-yellow-dark",children:"Read more"})]})]})},S=({news:s})=>{const a=x(h);return e.jsxs(e.Fragment,{children:[a&&e.jsx(g,{size:30}),e.jsx("ul",{className:" flex justify-center flex-col gap-[24px] mb-[44px] md:mb-[60px] md:gap-x-[20px] md:gap-y-[32px] md:flex-row md:flex-wrap md:mt-[44px] lg:mt-[60px] lg:gap-x-[35px] lg:gap-y-[40px]",children:s==null?void 0:s.map(t=>e.jsx(I,{...t},t._id))})]})},q=({setKeyword:s})=>{const{register:a,handleSubmit:t,setValue:n,watch:i}=z(),l=i("query",""),r=({query:o})=>{s(o)},d=()=>{n("query",""),s("")};return e.jsx("div",{className:"mt-[20px] mb-[24px] relative md:absolute md:top-[16.5px] md:right-[32px] md:mt-0 md:mb-0 lg:right-[63px] ",children:e.jsxs("form",{onSubmit:t(r),children:[e.jsx("input",{type:"text",className:" bg-transparent h-[42px] md:h-[48px] md:w-[230px]",placeholder:"Search",name:"query",...a("query")}),e.jsx("button",{type:"submit",className:"absolute top-[12px] right-[12px] flex items-center justify-center md:top-[15px] md:right-[15px] ",children:e.jsx(c,{id:"search",size:18})}),l&&e.jsx("button",{className:"absolute top-[12px] right-[34px] flex items-center justify-center md:top-[15px] md:right-[39px]",onClick:d,children:e.jsx(c,{size:18,id:"close",className:"stroke-my-black"})})]})})},L=({setPage:s,totalPages:a,page:t})=>{const n=m("pagination-left"),i=m("pagination-right"),l=()=>{t!==a&&s(t+1)},r=()=>{s(t-1)},d=()=>{s(1)},o=()=>{s(a)},u=()=>a===t?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn_pagination",disabled:!0,children:"..."}),e.jsxs("button",{type:"button",className:"btn_pagination_number",onClick:r,children:[t-1," "]}),e.jsxs("button",{type:"button",className:`btn_pagination_number ${t?"active":""}`,disabled:t===a,children:[t," "]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:`btn_pagination_number ${t?"active":""}`,onClick:r,disabled:t===1,children:[t," "]}),e.jsxs("button",{type:"button",className:"btn_pagination_number",onClick:l,disabled:t===a,children:[t+1," "]}),e.jsx("button",{type:"button",className:"btn_pagination",disabled:!0,children:"..."})]});return e.jsxs("div",{className:"flex gap-[11px] font-bold items-center justify-center md:gap-[24px]",children:[e.jsxs("div",{className:"flex gap-[6px] md:gap-[8px]",children:[e.jsxs("button",{className:"btn_pagination_double",disabled:t===1,onClick:d,children:[e.jsx(c,{id:"pagination-left",size:n,className:"icon"}),e.jsx(c,{id:"pagination-left",size:n,className:"absolute top-[9px] left-[4px] icon md:top-[9.5px] "})]}),e.jsx("button",{className:"btn_pagination",onClick:r,disabled:t===1,children:e.jsx(c,{id:"pagination-left",size:n,className:"icon"})})]}),e.jsx("div",{className:"flex gap-[10px] ",children:u()}),e.jsxs("div",{className:"flex gap-[6px] md:gap-[8px]",children:[e.jsx("button",{className:"btn_pagination",onClick:l,disabled:a===t,children:e.jsx(c,{id:"pagination-right",size:i,className:"icon"})}),e.jsxs("button",{className:"btn_pagination_double ",onClick:o,disabled:a===t,children:[e.jsx(c,{id:"pagination-right",size:i,className:"icon"}),e.jsx(c,{id:"pagination-right",className:"absolute top-[9px] right-[4px] icon md:top-[9.5px]",size:i})]})]})]})},T=()=>{const s=j(),a=x(h),t=x(N),n=x(f),i=x(y),[l,r]=p.useState("");p.useEffect(()=>{(async()=>{try{await s(w({keyword:l,page:t})).unwrap()}catch{k.error("Something went wrong. Please, reload the page.")}})()},[s,l,t]);const d=o=>{s(_({page:o}))};return e.jsxs("div",{className:"containerBig relative pb-[40px] md:pb-[80px]  ",children:[e.jsx(v,{children:"News"}),e.jsx(q,{setKeyword:r}),(n==null?void 0:n.length)>0?e.jsxs(e.Fragment,{children:[e.jsx(S,{news:n}),e.jsx(L,{setPage:d,totalPages:i,page:t})]}):a?"":e.jsx("p",{className:"text-[14px] text-center md:text-[28px] mt-[20px] ",children:"There aren't any news according to your query. Please, try another one."})]})};export{T as default};
